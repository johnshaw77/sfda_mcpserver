# 圖表創建工具測試案例

## 工具概述
圖表創建工具提供多種視覺化圖表類型，包括圓餅圖、長條圖和折線圖，適合不同類型的數據展示需求，支援標籤自定義和圖表美化。

## 統計專業情境

### 情境 1: 臨床研究副作用分佈（圓餅圖）
**研究背景**: 分析臨床試驗中不同副作用的發生比例
**研究目的**: 視覺化展示副作用類型分佈，評估藥物安全性
**統計意義**: 類別資料的比例分析與視覺化呈現

**測試數據**:
```json
{
  "chart_type": "pie",
  "labels": ["頭痛", "噁心", "疲勞", "失眠", "腹瀉", "無副作用"],
  "values": [25, 18, 22, 12, 8, 35],
  "title": "臨床試驗副作用分佈圖",
  "context": {
    "scenario": "medical",
    "variable_name": "副作用類型",
    "analysis_purpose": "藥物安全性評估",
    "total_patients": 120
  }
}
```

### 情境 2: 教育成效多校比較（長條圖）
**研究背景**: 比較五所學校實施教育改革後的平均成績提升
**研究目的**: 視覺化展示各校改革成效，識別最佳實踐
**統計意義**: 類別間數值比較與效果評估

**測試數據**:
```json
{
  "chart_type": "bar",
  "labels": ["A校", "B校", "C校", "D校", "E校"],
  "values": [8.5, 12.3, 6.8, 15.2, 10.7],
  "title": "各校教育改革成績提升幅度",
  "x_axis_label": "學校",
  "y_axis_label": "平均成績提升 (分)",
  "context": {
    "scenario": "education",
    "variable_name": "成績提升幅度",
    "analysis_purpose": "教育改革效果比較",
    "baseline_period": "改革前一年"
  }
}
```

### 情境 3: 品質改善趨勢追蹤（折線圖）
**研究背景**: 追蹤12個月品質改善專案的缺陷率變化
**研究目的**: 視覺化展示改善趨勢，評估專案效果
**統計意義**: 時間序列分析與趨勢識別

**測試數據**:
```json
{
  "chart_type": "line",
  "labels": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
  "values": [5.8, 5.2, 4.9, 4.1, 3.8, 3.2, 2.9, 2.5, 2.1, 1.8, 1.5, 1.2],
  "title": "品質改善專案缺陷率變化趨勢",
  "x_axis_label": "月份",
  "y_axis_label": "缺陷率 (%)",
  "context": {
    "scenario": "quality",
    "variable_name": "產品缺陷率",
    "analysis_purpose": "品質改善效果追蹤",
    "improvement_target": "缺陷率低於2%"
  }
}
```

## 一般用戶情境

### 情境 1: 公司部門預算分配（圓餅圖）
**生活情境**: 財務部門想展示年度預算在各部門的分配比例
**數據**: 各部門的年度預算金額
**目的**: 清楚展示預算分配，便於董事會理解

**測試數據**:
```json
{
  "chart_type": "pie",
  "labels": ["研發部", "行銷部", "生產部", "行政部", "業務部"],
  "values": [2500, 1800, 3200, 1200, 2000],
  "title": "2024年度部門預算分配",
  "context": {
    "scenario": "general",
    "variable_name": "部門預算",
    "analysis_purpose": "預算分配視覺化",
    "total_budget": "1千萬元"
  }
}
```

### 情境 2: 連鎖店月營業額比較（長條圖）
**生活情境**: 連鎖店經理想比較六家分店的月營業額表現
**數據**: 各分店的月營業額
**目的**: 識別表現最佳和需要改善的分店

**測試數據**:
```json
{
  "chart_type": "bar",
  "labels": ["信義店", "西門店", "士林店", "板橋店", "桃園店", "新竹店"],
  "values": [380, 420, 295, 355, 275, 310],
  "title": "各分店11月營業額比較",
  "x_axis_label": "分店",
  "y_axis_label": "營業額 (萬元)",
  "context": {
    "scenario": "general",
    "variable_name": "月營業額",
    "analysis_purpose": "分店業績比較",
    "target_revenue": "350萬元"
  }
}
```

### 情境 3: 網站流量月度變化（折線圖）
**生活情境**: 網站管理員想追蹤過去一年的月流量變化趨勢
**數據**: 每月的網站訪問人數
**目的**: 了解流量趨勢，制定行銷策略

**測試數據**:
```json
{
  "chart_type": "line",
  "labels": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
  "values": [12500, 11800, 13200, 14500, 16800, 18200, 19500, 17800, 16200, 15800, 17200, 18900],
  "title": "2024年網站月流量變化趨勢",
  "x_axis_label": "月份",
  "y_axis_label": "訪問人數",
  "context": {
    "scenario": "general",
    "variable_name": "月訪問人數",
    "analysis_purpose": "流量趨勢分析",
    "growth_target": "年成長20%"
  }
}
```

## 特殊情境

### 情境 4: 市場占有率分析（圓餅圖）
**研究背景**: 展示公司在競爭市場中的位置
**特點**: 包含競爭對手數據，突出公司表現

**測試數據**:
```json
{
  "chart_type": "pie",
  "labels": ["本公司", "競爭對手A", "競爭對手B", "競爭對手C", "其他"],
  "values": [28, 22, 18, 15, 17],
  "title": "手機市場占有率分佈",
  "context": {
    "scenario": "general",
    "variable_name": "市場占有率",
    "analysis_purpose": "競爭地位分析",
    "market_size": "台灣智慧型手機市場"
  }
}
```

### 情境 5: 產品銷售季度對比（長條圖）
**研究背景**: 比較四季度不同產品線的銷售表現
**特點**: 多季度數據對比分析

**測試數據**:
```json
{
  "chart_type": "bar",
  "labels": ["第一季", "第二季", "第三季", "第四季"],
  "values": [2800, 3200, 2950, 3800],
  "title": "產品A年度季銷售額",
  "x_axis_label": "季度",
  "y_axis_label": "銷售額 (萬元)",
  "context": {
    "scenario": "general",
    "variable_name": "季銷售額",
    "analysis_purpose": "季節性銷售分析",
    "product_line": "產品A系列"
  }
}
```

### 情境 6: 股價波動追蹤（折線圖）
**研究背景**: 追蹤股票價格的短期波動趨勢
**特點**: 高頻時間序列數據，展現價格變化

**測試數據**:
```json
{
  "chart_type": "line",
  "labels": ["9:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00"],
  "values": [125.5, 127.2, 124.8, 126.1, 128.5, 127.9, 129.3, 131.2],
  "title": "股票盤中價格變化",
  "x_axis_label": "時間",
  "y_axis_label": "股價 (元)",
  "context": {
    "scenario": "general",
    "variable_name": "股票價格",
    "analysis_purpose": "盤中走勢分析",
    "trading_date": "2024-11-26"
  }
}
```

### 情境 7: 極小數據集（最小需求測試）
**研究背景**: 測試工具在最小數據集下的表現
**特點**: 圓餅圖和長條圖只有1個數據點，折線圖2個數據點

**測試數據**:
```json
{
  "chart_type": "pie",
  "labels": ["唯一類別"],
  "values": [100],
  "title": "單一類別圓餅圖",
  "context": {
    "scenario": "test",
    "variable_name": "測試變數",
    "analysis_purpose": "最小數據集測試",
    "note": "邊界條件測試"
  }
}
```

### 情境 8: 大數據集處理（長條圖）
**研究背景**: 測試工具處理較多類別的能力
**特點**: 包含12個類別的數據

**測試數據**:
```json
{
  "chart_type": "bar",
  "labels": ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L"],
  "values": [15, 23, 18, 31, 27, 19, 25, 33, 21, 28, 16, 22],
  "title": "12類別數據分析",
  "x_axis_label": "類別",
  "y_axis_label": "頻次",
  "context": {
    "scenario": "test",
    "variable_name": "多類別變數",
    "analysis_purpose": "大數據集視覺化測試",
    "categories_count": 12
  }
}
```

## 預期結果

### 統計專業用戶期望看到：
- 精確的數據標籤和數值
- 專業的圖表格式和配色
- 統計數據摘要（總計、百分比、範圍等）
- 圖表類型選擇的合理性說明
- 數據品質和完整性確認
- 後續分析建議

### 一般用戶期望看到：
- 清晰易懂的視覺化圖表
- 重要數據的突出顯示
- 簡潔的數據解讀說明
- 實用的洞察和發現
- 決策支援建議
- 美觀的圖表呈現

## 測試指令範例

```bash
# 圓餅圖創建
curl -X POST http://localhost:3000/tools/stat/create-chart \
  -H "Content-Type: application/json" \
  -d '{
    "chart_type": "pie",
    "labels": ["A組", "B組", "C組"],
    "values": [30, 45, 25],
    "title": "組別分佈圖"
  }'

# 長條圖創建
curl -X POST http://localhost:3000/tools/stat/create-chart \
  -H "Content-Type: application/json" \
  -d '{
    "chart_type": "bar",
    "labels": ["一月", "二月", "三月"],
    "values": [100, 150, 120],
    "title": "月銷售額",
    "x_axis_label": "月份",
    "y_axis_label": "銷售額"
  }'

# 折線圖創建
curl -X POST http://localhost:3000/tools/stat/create-chart \
  -H "Content-Type: application/json" \
  -d '{
    "chart_type": "line",
    "labels": ["第1週", "第2週", "第3週", "第4週"],
    "values": [25, 30, 28, 35],
    "title": "週績效變化",
    "x_axis_label": "時間",
    "y_axis_label": "績效分數"
  }'
```

## 分析重點

### 圖表類型選擇指引：
- **圓餅圖**: 適合展示部分與整體的關係，類別數建議不超過7個
- **長條圖**: 適合比較不同類別的數值大小，支援任意數量類別
- **折線圖**: 適合顯示連續變化趨勢，至少需要2個數據點

### 設計原則：
- 圖表標題應該清楚描述數據內容
- 軸標籤應該包含單位和描述
- 顏色搭配應考慮色盲友善
- 數據標籤應該精確且易讀

### 實務應用建議：
- 報告簡報的視覺化首選
- 數據驅動決策的支援工具  
- 趨勢分析和比較分析
- 利害關係人溝通的輔助
- 定期監控和追蹤指標
# QMS 資料庫結構文檔使用指南

## 文檔用途

此文檔集提供了 QMS 資料庫中所有表格的詳細結構信息，包括：

- 欄位定義
- 數據類型
- 索引信息
- 表格關係
- 建立表格的 SQL 語句

這些信息對於開發人員理解數據模型、進行資料庫查詢、設計新功能或修改現有功能非常有價值。

## 文檔結構

1. **README.md** - 概述文檔，包含資料庫基本信息和導航鏈接
2. **all_tables.md** - 包含所有表格的詳細結構，包括欄位、索引等信息
3. **all_sql.md** - 包含所有表格的建立 SQL 語句
4. **usage-guide.md** - 本文檔，說明如何使用這些文檔

## 如何更新文檔

當資料庫結構發生變化時（例如，新增表格、修改欄位等），應該更新這些文檔。更新方法如下：

1. 確保您的開發環境可以連接到 QMS 資料庫
2. 在項目根目錄下運行生成腳本：

```bash
cd /path/to/mcp-server
node scripts/get-db-schema.js
```

3. 腳本會自動重新生成所有文檔
4. 檢查生成的文檔是否正確
5. 提交更新後的文檔到版本控制系統

## 如何閱讀表格文檔

在 **all_tables.md** 文件中，每個表格的文檔包含以下部分：

1. **表格結構** - 列出所有欄位及其屬性

   - 欄位名稱 - 數據庫中的欄位名
   - 資料型別 - 欄位的數據類型及大小限制
   - 可為空 - 欄位是否允許 NULL 值
   - 索引 - 欄位上的索引類型（PRI=主鍵, UNI=唯一索引, MUL=普通索引）
   - 預設值 - 欄位的默認值
   - 備註 - 對欄位的解釋說明

2. **索引信息** - 詳細列出表格中的所有索引
   - 索引名稱 - 索引的名稱
   - 欄位 - 索引包含的欄位
   - 唯一 - 索引是否為唯一索引
   - 類型 - 索引的類型（如 BTREE, HASH 等）

在 **all_sql.md** 文件中，您可以找到每個表格的完整建立 SQL 語句，包含所有欄位定義、索引和表格屬性。

## 示例查詢

文檔中的信息可以幫助您編寫更高效的查詢。例如，知道了索引信息後，您可以：

```sql
-- 使用索引的高效查詢
SELECT * FROM users WHERE username = 'admin';

-- 使用複合索引的查詢
SELECT * FROM orders WHERE customer_id = 123 AND status = 'pending';
```

## 注意事項

- 此文檔反映的是資料庫的結構，不包含實際數據
- 在處理敏感欄位（如密碼、個人信息等）時，請遵循相關的數據保護規定
- 在進行資料庫結構變更時，請先更新相關設計文檔，並與團隊成員討論
